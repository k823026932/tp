!function(){var a,n,c,t,d,e;if(n=navigator.userAgent,c=n.indexOf("Android")>-1||n.indexOf("Adr")>-1,t=!!n.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),e=location.href,d=[[/\/a\/aa(\d+)/,"/a/aa$1?"],[/\/a\/ab(\d+)/,"/v/?ab=$1?"],[/\/a\/ac(\d+)/,"/v/?ac=$1&type=article"],[/\/a\/ad(\d+)/,"/ad$1"],[/\/v\/ab(\d+)/,"/v/?ab=$1"],[/\/v\/ab(\d+)_(\d+)/,"/v/?ab=$1&part=$2"],[/\/v\/ac(\d+)/,"/v/?ac=$1"],[/\/v\/ac(\d+)_(\d+)/,"/v/?ac=$1&part=$2"],[/\/[av]\/list(\d+)\/.*/,"/list/?channel=$1"],[/\/sp\/cw2016(.*)/,"/newyear2016$1"],[/\/sp\/acdc2016/,"/sp/acdc2016"],[/\/sp\/2016chuanpuwang\//,"/2016chuanpuwang/"],[/\/sp\/2017chunwanyure/,"/newyear2017"],[/\/app\/download\//,"/app/download/"],[/\/app\//,"/app/download/"],[/\/spn\/littlefairy2017/,"/sp/littlefairy2017"]],c||t)if("http://www.acfun.cn/"==location.href)location="http://m.acfun.cn/";else for(var p=0;p<d.length;p++)if(e.match(d[p][0])){e=e.replace(new RegExp(location.origin),"http://m.acfun.cn"),a=e.replace(d[p][0],d[p][1]),location=a;break}}();